<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../node_modules/monaco-editor/min/vs/editor/editor.main.css">
    <title>Monaco Editor Example</title>
    <style>
        /* Flexbox to center the entire container */
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f5f5f5;
        }

        /* A container for both the title and editor */
        .editor-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Style for the editor itself */
        #editor {
            width: 800px;
            height: 600px;
            border: 1px solid #ccc;
            background-color: #ffffff;
        }

        /* Optional styling for the title */
        h1 {
            margin-bottom: 20px;
            font-size: 24px;
            color: #333;
        }
    </style>
    <script src="../../node_modules/monaco-editor/min/vs/loader.js"></script>
    <script>
        require.config({paths: {'vs': '../../node_modules/monaco-editor/min/vs'}});
        require.config({ paths: { 'vs': 'https://unpkg.com/monaco-editor/min/vs' }});
       
        require(['vs/editor/editor.main'], function() {
           
            // Register a new language
            monaco.languages.register({ id: "MotorMusic" });

            // Register a tokens provider for the language
            monaco.languages.setMonarchTokensProvider('MotorMusic', {
                tokenizer: {
                    root: [
                        [/A#/, 'As'],
                        [/Ab/, 'Gs'],
                        [/A/, 'A'],
                        [/B#/, 'C'],
                        [/Bb/, 'As'],
                        [/B/, 'B'],
                        [/C#/, 'Cs'],
                        [/Cb/, 'B'],
                        [/C/, 'C'],
                        [/D#/, 'Ds'],
                        [/Db/, 'Cs'],
                        [/D/, 'D'],
                        [/E#/, 'Es'],
                        [/Eb/, 'Ds'],
                        [/E/, 'E'],
                        [/F#/, 'Fs'],
                        [/Fb/, 'E'],
                        [/F/, 'F'],
                        [/G#/, 'Gs'],
                        [/Gb/, 'Fs'],
                        [/G/, 'G'],
                        [/\b\d+(\.\d+)?\b/, 'Number'],
                        [/\b([a-z][a-z0-9]*)\b/, 'Ident'],
                        [/"(.*?)"/, 'Voice'],
                        [/\(/, 'LParen'],
                        [/\)/, 'RParen'],
                        [/\[/, 'LSqBracket'],
                        [/\]/, 'RSqBracket'],
                        [/\{/, 'LCurly'],
                        [/\}/, 'RCurly'],
                        [/\</, 'LAngle'],
                        [/\>/, 'RAngle'],
                        [/\!/, 'Exclamation'],
                        [/,/, 'Comma'],
                        [/\|/, 'Mid'],
                        [/\_/, 'Underscore'],
                        [/"/, 'Quote'],
                        [/\+/, 'Plus']
                    ]
                }
            });

            // Define a new theme that contains only rules that match this language
            monaco.editor.defineTheme("MotorMusicTheme", {
                base: "vs",
                inherit: false,
                rules: [
                { token: 'Plus.MotorMusic', foreground: '000000' }, 
                { token: 'Comma.MotorMusic', foreground: '000000'},
                { token: 'LSqBracket.MotorMusic', foreground: '1ca182'},
                {token: 'RSqBracket.MotorMusic', foreground: '1ca182'},
                {token: 'LParen.MotorMusic', foreground: 'f05771', fontStyle: 'bold'},
                {token: 'RParen.MotorMusic', foreground: 'f05771', fontStyle: 'bold'},
                {token: 'Mid.MotorMusic', foreground: 'f05771', fontStyle: 'bold'},
                {token: 'LCurly.MotorMusic', foreground: '0f37ad'},
                {token: 'RCurly.MotorMusic', foreground: '0f37ad'},
                {token: 'Number.MotorMusic', foreground: '000000'},
                {token: 'Ident.MotorMusic', foreground: '0000FF'},
                {token: 'Quote.MotorMusic', foreground: '07e38f', fontStyle: 'italic'},
                {token: 'Voice.MotorMusic', foreground: '19bd7e', fontStyle: 'italic'},
                {token: 'Exclamation.MotorMusic', foreground: 'A31515', fontStyle: 'bold'},
                {token: 'LAngle.MotorMusic', foreground: 'DE1CCB'},
                {token: 'RAngle.MotorMusic', foreground: 'DE1CCB'},
                {token: 'Underscore.MotorMusic', foreground: '274e63'},
                {token: 'A.MotorMusic', foreground: 'B71CDE', fontStyle: 'bold'},
                {token: 'As.MotorMusic', foreground: 'B71CDE', fontStyle: 'bold'},
                {token: 'B.MotorMusic', foreground: 'B71CDE', fontStyle: 'bold'},
                {token: 'C.MotorMusic', foreground: 'B71CDE', fontStyle: 'bold'},
                {token: 'Cs.MotorMusic', foreground: 'B71CDE', fontStyle: 'bold'},
                {token: 'D.MotorMusic', foreground: 'B71CDE', fontStyle: 'bold'},
                {token: 'Ds.MotorMusic', foreground: 'B71CDE', fontStyle: 'bold'},
                {token: 'E.MotorMusic', foreground: 'B71CDE', fontStyle: 'bold'},
                {token: 'F.MotorMusic', foreground: 'B71CDE', fontStyle: 'bold'},
                {token: 'Fs.MotorMusic', foreground: 'B71CDE', fontStyle: 'bold'},
                {token: 'G.MotorMusic', foreground: 'B71CDE', fontStyle: 'bold'},
                {token: 'Gs.MotorMusic', foreground: 'B71CDE', fontStyle: 'bold'}
                ],
                colors: {
                    "editor.foreground": "#000000",
                },
            });


            monaco.editor.create(document.getElementById("editor"), {
                theme: "MotorMusicTheme",
                value: '(["cool vocal"]{[.25]ski, [.25]b} | [1]boink)',
                language: "MotorMusic",
            });
        });
    </script>
</head>
<body>
    <div class="editor-container">
        <h1>Monaco Editor Example</h1>
        <div id="editor"></div>
    </div>
</body>
</html>
